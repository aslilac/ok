"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.$set = exports.$map = void 0;
const schema_1 = require("../schema");
function $map(keySchema, valueSchema) {
    return new schema_1.Schema((x) => {
        if (!(x instanceof Map)) {
            return false;
        }
        for (const [key, value] of x) {
            if (!schema_1.Schema.check(keySchema, key) || !schema_1.Schema.check(valueSchema, value)) {
                return false;
            }
        }
        // If we made it through the whole map, and nothing failed, then everything passed!
        return true;
    });
}
exports.$map = $map;
function $set(schema) {
    return new schema_1.Schema((x) => {
        if (!(x instanceof Set)) {
            return false;
        }
        for (const key of x) {
            if (!schema_1.Schema.check(schema, key)) {
                return false;
            }
        }
        // If we made it through the whole set, and nothing failed, then everything passed!
        return true;
    });
}
exports.$set = $set;
//# sourceMappingURL=collections.js.map