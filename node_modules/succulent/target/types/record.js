"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.$record = void 0;
const schema_1 = require("../schema");
function $record(keySchema, valueSchema) {
    return new schema_1.Schema((x) => typeof x === "object" &&
        x != null &&
        schema_1.Schema.every(keySchema, (key) => ({}.hasOwnProperty.call(x, key))) &&
        Object.entries(x).every(([key, value]) => 
        // It doesn't hurt if there are extra keys that don't match, as long
        // as all of the ones that should do
        schema_1.Schema.check(keySchema, key) ? schema_1.Schema.check(valueSchema, value) : true));
}
exports.$record = $record;
// export function hasKey<K extends string, T>(
// 	key: K,
// 	keySchema: Schema<T>,
// ): Schema<{ [X in K]: T }> {
// 	return new Schema(
// 		(t: unknown): t is { [X in K]: T } =>
// 			Schema.check($anyobject, t) &&
// 			key in t &&
// 			{}.hasOwnProperty.call(t, key) &&
// 			Schema.check(keySchema, (<any>t)[key]),
// 	);
// }
// export function hasKeys<K extends string, T>(
// 	keys: K[],
// 	keySchema: Schema<T>,
// ): Schema<{ [X in K]: T }> {
// 	return new Schema((t: unknown): t is { [X in K]: T } =>
// 		keys.every((key) => Schema.check(hasKey(key, keySchema), t)),
// 	);
// }
//# sourceMappingURL=record.js.map